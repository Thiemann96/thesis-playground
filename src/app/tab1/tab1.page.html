<ion-content>
  <div class="map-container">
    <div id="sidebar">
      <div class="sidebar-wrapper">
        <div id="features" class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Controls</h3>
          </div>
          <ion-accordion-group [value]="['first']">
            <ion-accordion value="first">
              <ion-item color="light" slot="header">
                <ion-label><b>1.</b> Choose Data Source</ion-label>
              </ion-item>
              <ion-list slot="content">
              <ion-radio-group (ionChange)="loadDataSource($event.target.value)">            
                <ion-item>
                  <ion-label>GeoLife(Beijing)</ion-label>
                  <ion-radio slot="start" value="geolife"></ion-radio>
                </ion-item>
                <ion-item>
                  <ion-label>DMCL(Chicago)</ion-label>
                  <ion-radio slot="start" value="dmcl"></ion-radio>
                </ion-item>
                <ion-item>
                  <ion-label>GSM(Brazil)</ion-label>
                  <ion-radio slot="start" value="gsm"></ion-radio>
                </ion-item>
              </ion-radio-group>
            </ion-list>
          </ion-accordion>
            <ion-accordion [disabled]="!dataLoadingDone">
              <ion-item color="light" slot="header">
                <ion-label><b>2.</b>Stay point extraction</ion-label>
              </ion-item>
              <ion-list slot="content">
                <ion-item>
                  <ion-label position="stacked">Threshold for time(min):</ion-label>
                  <ion-input
                    (ionChange)="setStayPointTime($event)"
                    value="{{stayPointTime}}"
                    placeholder="time threshold"
                  >
                  </ion-input>
                </ion-item>
                <ion-item>
                  <ion-label position="stacked">Threshold for distance(meters):</ion-label>
                  <ion-input
                    (ionChange)="setStayPointDistance($event)"
                    value="{{stayPointDistance}}"
                    placeholder="distance threshold"
                  ></ion-input>
                </ion-item>
                <ion-button
                (click)="calculateStayPoints()"
                size="small">
                Stay-Point detection
              </ion-button>
              </ion-list>
            </ion-accordion>
            <ion-accordion  [disabled]="!stayPointsDone">
              <ion-item color="light" slot="header">
                <ion-label>DBSCAN</ion-label>
              </ion-item>
              <ion-list slot="content">
                <ion-item>
                  <ion-label position="stacked" >Value for eps:</ion-label>
                  <ion-input
                    (ionChange)="setEpsDBSCAN($event)"
                    value="{{epsDBSCAN}}"
                    placeholder="Distance threshhold"
                  ></ion-input>
                </ion-item>
                <ion-item>
                  <ion-label position="stacked">Value for minPts</ion-label>
                  <ion-input
                    (ionChange)="setMinPtsDBSCAN($event)"
                    value="{{minPtsDBSCAN}}"
                    placeholde="minPts"
                    ></ion-input>
                </ion-item>
                <ion-button (click)="getDBSCAN()">DBSCAN</ion-button>
                </ion-list>
            </ion-accordion>
            <ion-accordion [disabled]="!stayPointsDone">
              <ion-item color="light" slot="header">
                <ion-label>DBMeans</ion-label>
              </ion-item>
                <ion-list slot="content">
                  <ion-item>
                    <ion-label position="stacked" >Value for eps:</ion-label>
                    <ion-input
                      (ionChange)="setEpsDBMeans($event)"
                      value="{{epsDBMeans}}"
                      placeholder="eps"
                    ></ion-input>
                  </ion-item>
                  <ion-item>
                    <ion-label position="stacked">Value for minPts</ion-label>
                    <ion-input
                      (ionChange)="setMinPtsDBMeans($event)"
                      value="{{minPtsDBMeans}}"
                      placeholde="minPts"
                      ></ion-input>
                  </ion-item>
                  <ion-button (click)="getDBMeans()">DBMEANS</ion-button>
                </ion-list>
              </ion-accordion>
              <ion-accordion [disabled]="!stayPointsDone">
                <ion-item color="light" slot="header">
                  <ion-label>OPTICS</ion-label>
                </ion-item>
                <ion-list slot="content">
                  <ion-item>
                    <ion-label position="stacked">Value for minPts</ion-label>
                    <ion-input
                      (ionChange)="setMinPtsOPTICS($event)"
                      value="{{minPtsOPTICS}}"
                      placeholde="minPts"
                      ></ion-input>
                  </ion-item>
                  <ion-button (click)="getOPTICS()">OPTICS</ion-button>
                </ion-list>
            </ion-accordion>
          </ion-accordion-group>
        </div>
      </div>
    </div>
    <div id="map"></div>
  </div>
</ion-content>
